program Bradomo;

uses
  System.StartUpCopy,
  FMX.Forms,
  Vcl.Controls,
  System.SysUtils,
  unLogin in 'unLogin.pas' {frmLogin},
  unMenuPrincipal in '_base\unMenuPrincipal.pas' {frmMenuPrincipal};

{$R *.res}
var
  login : TfrmLogin;
  event : TProc = nil;
begin
  Application.Initialize;


  login := TFrmLogin.Create(nil);
  login.ShowModal(
     procedure(ModalResult: TModalResult)
     begin
       if ModalResult = mrOK then
       begin
         // Login bem-sucedido
         if Assigned(event) then
           event;
       end
       else if ModalResult = mrCancel then
       begin
         // Usuário pressionou "Cancelar", feche a aplicação
         Application.Terminate;
       end;
     end
   );

   if login.ModalResult = mrOk then
   begin
    Application.CreateForm(TfrmMenuPrincipal, frmMenuPrincipal);
    Application.Run;
   end;

end.
